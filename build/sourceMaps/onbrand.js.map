{"version":3,"sources":["onbrand.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","devOptions","production","shortHubUrl","fullHubUrl","subdir","remindMeToGit","2","urlPath","$","ajax","url","done","data","prepend","remove","append","_internalLink","preventDefault","console","log","target","href","Hubs","changePage","_relativeLinks","matchThis","RegExp","not","each","index","el","testThis","this","attr","test","newHref","replace","on","addClass","Events","Config","hubBaseUrl","fixShareWidget","itemIds","selectors","sideCtaFix","addThisFix","ctaId","mappedData","ctaName","./dev-options.js"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAEA,IAAIK,GACHC,YAAY,EACZC,YAAa,2BACbC,WAAY,oCACZC,OAAQ,cACRC,eAAe,GAGhBN,EAAOJ,QAAUK,OAEXM,GAAG,SAASjB,EAAQU,EAAOJ,GACjC,aAEA,IAOIY,EAPAP,EAAaX,EAAQ,oBAWvBkB,EAHGP,EAAWC,WAGJ,yBAA2BD,EAAWI,OAAS,aAF/C,aAMZI,EAAEC,MACAC,IAAKH,EAAU,kBACdI,KAAK,SAAUC,GAChBJ,EAAE,QAAQK,QAAQD,KAIpBJ,EAAEC,MACAC,IAAKH,EAAU,kBACdI,KAAK,SAAUC,GAChBJ,EAAE,iBAAiBM,SACnBN,EAAE,QAAQO,OAAOH,KAOnB,IAAII,EAAgB,SAAuBnC,GACzCA,EAAEoC,iBACFC,QAAQC,IAAItC,EAAEuC,OAAOC,MACrBC,KAAKC,WAAW1C,EAAEuC,OAAOC,OAGvBG,EAAiB,SAAwBd,GAE3C,IAAIe,EAAY,IAAIC,OAAO,oCAA0ChB,EAAM,IAAK,MAChFF,EAAE,KAAKmB,IAAI,0BAA0BC,KAAK,SAAUC,EAAOC,GACzD,IAAIC,EAAWvB,EAAEwB,MAAMC,KAAK,QAC5B,GAAIR,EAAUS,KAAKH,GAAW,CAC5B,IAAII,EAAUJ,EAASK,QAAQX,EAAW,IACrB,MAAfU,EAAQ,KACZA,EAAU,IAAMA,GAElB3B,EAAEwB,MAAMC,KAAK,OAAQE,GACrB3B,EAAEwB,MAAMC,KAAK,SAAU,IAEvBzB,EAAEwB,MAAMK,GAAG,QAASrB,GACpBR,EAAEwB,MAAMM,SAAS,6BASlBtC,EAAWC,aACdqB,KAAKiB,OAAOF,GAAG,OAAQ,WACrBb,EAAexB,EAAWE,aAC1BoB,KAAKkB,OAAOC,WAAa,2BAE3BnB,KAAKiB,OAAOF,GAAG,aAAc,WAC3Bb,EAAexB,EAAWE,aAC1BoB,KAAKkB,OAAOC,WAAa,2BAE3BnB,KAAKiB,OAAOF,GAAG,cAAe,WAC5Bb,EAAexB,EAAWE,gBAQ9BoB,KAAKiB,OAAOF,GAAG,OAAQ,WACrBK,mBACCL,GAAG,aAAc,cAAgBA,GAAG,cAAe,SAAUM,EAASC,MAAeP,GAAG,SAAU,WACnGQ,aACAC,eACCT,GAAG,SAAU,WACdQ,aACAC,eACCT,GAAG,cAAe,SAAUU,MAAWV,GAAG,uBAAwB,SAAUU,EAAOC,EAAYC,MAAaZ,GAAG,SAAU,gBAEzHa,mBAAmB,SAAS","file":"../onbrand.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar devOptions = {\n\tproduction: false, //Switch me to true when you deploy\n\tshortHubUrl: 'markwilkins.uberflip.com', //change me to the base url of your hub (no http(s) or www)\n\tfullHubUrl: 'https://markwilkins.uberflip.com/', //exact url to access hub\n\tsubdir: 'markwilkins', //name of the cihost folder\n\tremindMeToGit: true\n};\n\nmodule.exports = devOptions;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar devOptions = require('./dev-options.js');\n\n/** \n *  Header & Footer Ajax\n */\nvar version = 1;\n\nvar urlPath;\nif (!devOptions.production) {\n  urlPath = '/includes/';\n} else {\n  urlPath = '//cihost.uberflip.com/' + devOptions.subdir + '/includes/';\n}\n\n/* Insert Header */\n$.ajax({\n  url: urlPath + 'header.html?' + version\n}).done(function (data) {\n  $('body').prepend(data);\n});\n\n/* Insert Footer */\n$.ajax({\n  url: urlPath + 'footer.html?' + version\n}).done(function (data) {\n  $('body > footer').remove();\n  $('body').append(data);\n});\n\n/** \n *  Custom Functions\n */\n\nvar _internalLink = function _internalLink(e) {\n  e.preventDefault();\n  console.log(e.target.href);\n  Hubs.changePage(e.target.href);\n};\n\nvar _relativeLinks = function _relativeLinks(url) {\n  //We need relative links for local dev, so we regex for the url as the href\n  var matchThis = new RegExp('^((http[s]?|ftp):\\/)?\\/?([^:\\/\\s]+)?(' + url + ')', 'gi');\n  $('a').not('.onBrand--LocalDevLink').each(function (index, el) {\n    var testThis = $(this).attr('href');\n    if (matchThis.test(testThis)) {\n      var newHref = testThis.replace(matchThis, '');\n      if (!(newHref[0] === '/')) {\n        newHref = '/' + newHref;\n      }\n      $(this).attr('href', newHref);\n      $(this).attr('target', '');\n      //add event listener to do internal page change instead of full reload\n      $(this).on('click', _internalLink);\n      $(this).addClass('onBrand--LocalDevLink');\n    }\n  });\n};\n\n/** \n *  Events\n */\n\nif (!devOptions.production) {\n  Hubs.Events.on('load', function () {\n    _relativeLinks(devOptions.shortHubUrl);\n    Hubs.Config.hubBaseUrl = 'http://localhost:3000/';\n  });\n  Hubs.Events.on('pageChange', function () {\n    _relativeLinks(devOptions.shortHubUrl);\n    Hubs.Config.hubBaseUrl = 'http://localhost:3000/';\n  });\n  Hubs.Events.on('itemsLoaded', function () {\n    _relativeLinks(devOptions.shortHubUrl);\n  });\n}\n\n/** \n *  Events\n */\n\nHubs.Events.on('load', function () {\n  fixShareWidget();\n}).on('pageChange', function () {}).on('itemsLoaded', function (itemIds, selectors) {}).on('resize', function () {\n  sideCtaFix();\n  addThisFix();\n}).on('scroll', function () {\n  sideCtaFix();\n  addThisFix();\n}).on('ctaActivate', function (ctaId) {}).on('ctaFormSubmitSuccess', function (ctaId, mappedData, ctaName) {}).on('search', function () {});\n\n},{\"./dev-options.js\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYtb3B0aW9ucy5qcyIsIm9uYnJhbmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBLElBQU0sYUFBYTtBQUNsQixhQUFZLEtBRE0sRUFDQztBQUNuQixjQUFhLDBCQUZLLEVBRXVCO0FBQ3pDLGFBQVksbUNBSE0sRUFHK0I7QUFDakQsU0FBUSxhQUpVLEVBSUs7QUFDdkIsZ0JBQWU7QUFMRyxDQUFuQjs7QUFTQSxPQUFPLE9BQVAsR0FBaUIsVUFBakI7Ozs7O0FDWEUsSUFBTSxhQUFhLFFBQVEsa0JBQVIsQ0FBbkI7O0FBR0E7OztBQUdBLElBQU0sVUFBVSxDQUFoQjs7QUFFQSxJQUFJLE9BQUo7QUFDQSxJQUFJLENBQUMsV0FBVyxVQUFoQixFQUE0QjtBQUMxQixZQUFVLFlBQVY7QUFDRCxDQUZELE1BRU87QUFDTCxZQUFVLDJCQUEyQixXQUFXLE1BQXRDLEdBQStDLFlBQXpEO0FBQ0Q7O0FBR0Q7QUFDQSxFQUFFLElBQUYsQ0FBTztBQUNMLE9BQUssVUFBVSxjQUFWLEdBQTJCO0FBRDNCLENBQVAsRUFFRyxJQUZILENBRVEsVUFBUyxJQUFULEVBQWU7QUFDckIsSUFBRSxNQUFGLEVBQVUsT0FBVixDQUFrQixJQUFsQjtBQUNELENBSkQ7O0FBTUE7QUFDQSxFQUFFLElBQUYsQ0FBTztBQUNMLE9BQUssVUFBVSxjQUFWLEdBQTJCO0FBRDNCLENBQVAsRUFFRyxJQUZILENBRVEsVUFBUyxJQUFULEVBQWU7QUFDckIsSUFBRSxlQUFGLEVBQW1CLE1BQW5CO0FBQ0EsSUFBRSxNQUFGLEVBQVUsTUFBVixDQUFpQixJQUFqQjtBQUNELENBTEQ7O0FBT0E7Ozs7QUFJQSxJQUFJLGdCQUFnQixTQUFoQixhQUFnQixDQUFTLENBQVQsRUFBWTtBQUM5QixJQUFFLGNBQUY7QUFDQSxVQUFRLEdBQVIsQ0FBWSxFQUFFLE1BQUYsQ0FBUyxJQUFyQjtBQUNBLE9BQUssVUFBTCxDQUFnQixFQUFFLE1BQUYsQ0FBUyxJQUF6QjtBQUNELENBSkQ7O0FBTUEsSUFBSSxpQkFBaUIsU0FBakIsY0FBaUIsQ0FBUyxHQUFULEVBQWM7QUFDakM7QUFDQSxNQUFJLFlBQVksSUFBSSxNQUFKLENBQVcsMENBQTBDLEdBQTFDLEdBQWdELEdBQTNELEVBQWdFLElBQWhFLENBQWhCO0FBQ0EsSUFBRSxHQUFGLEVBQU8sR0FBUCxDQUFXLHdCQUFYLEVBQXFDLElBQXJDLENBQTBDLFVBQVMsS0FBVCxFQUFnQixFQUFoQixFQUFvQjtBQUM1RCxRQUFJLFdBQVcsRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLE1BQWIsQ0FBZjtBQUNBLFFBQUksVUFBVSxJQUFWLENBQWUsUUFBZixDQUFKLEVBQThCO0FBQzVCLFVBQUksVUFBVSxTQUFTLE9BQVQsQ0FBaUIsU0FBakIsRUFBNEIsRUFBNUIsQ0FBZDtBQUNBLFVBQUksRUFBRSxRQUFRLENBQVIsTUFBZSxHQUFqQixDQUFKLEVBQTJCO0FBQ3pCLGtCQUFVLE1BQU0sT0FBaEI7QUFDRDtBQUNELFFBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxNQUFiLEVBQXFCLE9BQXJCO0FBQ0EsUUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLFFBQWIsRUFBdUIsRUFBdkI7QUFDQTtBQUNBLFFBQUUsSUFBRixFQUFRLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLGFBQXBCO0FBQ0EsUUFBRSxJQUFGLEVBQVEsUUFBUixDQUFpQix1QkFBakI7QUFDRDtBQUNGLEdBYkQ7QUFjRCxDQWpCRDs7QUFtQkE7Ozs7QUFJQSxJQUFJLENBQUMsV0FBVyxVQUFoQixFQUE0QjtBQUMxQixPQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsTUFBZixFQUF1QixZQUFXO0FBQ2hDLG1CQUFlLFdBQVcsV0FBMUI7QUFDQSxTQUFLLE1BQUwsQ0FBWSxVQUFaLEdBQXlCLHdCQUF6QjtBQUNELEdBSEQ7QUFJQSxPQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsWUFBZixFQUE2QixZQUFXO0FBQ3RDLG1CQUFlLFdBQVcsV0FBMUI7QUFDQSxTQUFLLE1BQUwsQ0FBWSxVQUFaLEdBQXlCLHdCQUF6QjtBQUNELEdBSEQ7QUFJQSxPQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsYUFBZixFQUE4QixZQUFXO0FBQ3ZDLG1CQUFlLFdBQVcsV0FBMUI7QUFDRCxHQUZEO0FBR0Q7O0FBRUQ7Ozs7QUFJQSxLQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsTUFBZixFQUF1QixZQUFXO0FBQzlCO0FBQ0QsQ0FGSCxFQUdHLEVBSEgsQ0FHTSxZQUhOLEVBR29CLFlBQVcsQ0FFNUIsQ0FMSCxFQUtLLEVBTEwsQ0FLUSxhQUxSLEVBS3VCLFVBQVMsT0FBVCxFQUFrQixTQUFsQixFQUE2QixDQUdqRCxDQVJILEVBUUssRUFSTCxDQVFRLFFBUlIsRUFRa0IsWUFBVztBQUN6QjtBQUNBO0FBQ0QsQ0FYSCxFQVdLLEVBWEwsQ0FXUSxRQVhSLEVBV2tCLFlBQVc7QUFDekI7QUFDQTtBQUNELENBZEgsRUFjSyxFQWRMLENBY1EsYUFkUixFQWN1QixVQUFTLEtBQVQsRUFBZ0IsQ0FHcEMsQ0FqQkgsRUFpQkssRUFqQkwsQ0FpQlEsc0JBakJSLEVBaUJnQyxVQUFTLEtBQVQsRUFBZ0IsVUFBaEIsRUFBNEIsT0FBNUIsRUFBcUMsQ0FHbEUsQ0FwQkgsRUFvQkssRUFwQkwsQ0FvQlEsUUFwQlIsRUFvQmtCLFlBQVcsQ0FFMUIsQ0F0QkgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG5cbmNvbnN0IGRldk9wdGlvbnMgPSB7XG5cdHByb2R1Y3Rpb246IGZhbHNlLCAvL1N3aXRjaCBtZSB0byB0cnVlIHdoZW4geW91IGRlcGxveVxuXHRzaG9ydEh1YlVybDogJ21hcmt3aWxraW5zLnViZXJmbGlwLmNvbScsIC8vY2hhbmdlIG1lIHRvIHRoZSBiYXNlIHVybCBvZiB5b3VyIGh1YiAobm8gaHR0cChzKSBvciB3d3cpXG5cdGZ1bGxIdWJVcmw6ICdodHRwczovL21hcmt3aWxraW5zLnViZXJmbGlwLmNvbS8nLCAvL2V4YWN0IHVybCB0byBhY2Nlc3MgaHViXG5cdHN1YmRpcjogJ21hcmt3aWxraW5zJywgLy9uYW1lIG9mIHRoZSBjaWhvc3QgZm9sZGVyXG5cdHJlbWluZE1lVG9HaXQ6IHRydWUgXG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZGV2T3B0aW9ucztcbiIsIiAgY29uc3QgZGV2T3B0aW9ucyA9IHJlcXVpcmUoJy4vZGV2LW9wdGlvbnMuanMnKVxuXG5cbiAgLyoqIFxuICAgKiAgSGVhZGVyICYgRm9vdGVyIEFqYXhcbiAgICovXG4gIGNvbnN0IHZlcnNpb24gPSAxO1xuXG4gIHZhciB1cmxQYXRoO1xuICBpZiAoIWRldk9wdGlvbnMucHJvZHVjdGlvbikge1xuICAgIHVybFBhdGggPSAnL2luY2x1ZGVzLydcbiAgfSBlbHNlIHtcbiAgICB1cmxQYXRoID0gJy8vY2lob3N0LnViZXJmbGlwLmNvbS8nICsgZGV2T3B0aW9ucy5zdWJkaXIgKyAnL2luY2x1ZGVzLydcbiAgfVxuXG5cbiAgLyogSW5zZXJ0IEhlYWRlciAqL1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsUGF0aCArICdoZWFkZXIuaHRtbD8nICsgdmVyc2lvblxuICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAkKCdib2R5JykucHJlcGVuZChkYXRhKTtcbiAgfSk7XG5cbiAgLyogSW5zZXJ0IEZvb3RlciAqL1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsUGF0aCArICdmb290ZXIuaHRtbD8nICsgdmVyc2lvblxuICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAkKCdib2R5ID4gZm9vdGVyJykucmVtb3ZlKCk7XG4gICAgJCgnYm9keScpLmFwcGVuZChkYXRhKTtcbiAgfSk7XG5cbiAgLyoqIFxuICAgKiAgQ3VzdG9tIEZ1bmN0aW9uc1xuICAgKi9cblxuICB2YXIgX2ludGVybmFsTGluayA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5ocmVmKVxuICAgIEh1YnMuY2hhbmdlUGFnZShlLnRhcmdldC5ocmVmKTtcbiAgfVxuXG4gIHZhciBfcmVsYXRpdmVMaW5rcyA9IGZ1bmN0aW9uKHVybCkge1xuICAgIC8vV2UgbmVlZCByZWxhdGl2ZSBsaW5rcyBmb3IgbG9jYWwgZGV2LCBzbyB3ZSByZWdleCBmb3IgdGhlIHVybCBhcyB0aGUgaHJlZlxuICAgIHZhciBtYXRjaFRoaXMgPSBuZXcgUmVnRXhwKCdeKChodHRwW3NdP3xmdHApOlxcLyk/XFwvPyhbXjpcXC9cXHNdKyk/KCcgKyB1cmwgKyAnKScsICdnaScpO1xuICAgICQoJ2EnKS5ub3QoJy5vbkJyYW5kLS1Mb2NhbERldkxpbmsnKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgICAgdmFyIHRlc3RUaGlzID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICBpZiAobWF0Y2hUaGlzLnRlc3QodGVzdFRoaXMpKSB7XG4gICAgICAgIHZhciBuZXdIcmVmID0gdGVzdFRoaXMucmVwbGFjZShtYXRjaFRoaXMsICcnKTtcbiAgICAgICAgaWYgKCEobmV3SHJlZlswXSA9PT0gJy8nKSkge1xuICAgICAgICAgIG5ld0hyZWYgPSAnLycgKyBuZXdIcmVmO1xuICAgICAgICB9XG4gICAgICAgICQodGhpcykuYXR0cignaHJlZicsIG5ld0hyZWYpO1xuICAgICAgICAkKHRoaXMpLmF0dHIoJ3RhcmdldCcsICcnKTtcbiAgICAgICAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgdG8gZG8gaW50ZXJuYWwgcGFnZSBjaGFuZ2UgaW5zdGVhZCBvZiBmdWxsIHJlbG9hZFxuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIF9pbnRlcm5hbExpbmspO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdvbkJyYW5kLS1Mb2NhbERldkxpbmsnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBcbiAgICogIEV2ZW50c1xuICAgKi9cblxuICBpZiAoIWRldk9wdGlvbnMucHJvZHVjdGlvbikge1xuICAgIEh1YnMuRXZlbnRzLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICBfcmVsYXRpdmVMaW5rcyhkZXZPcHRpb25zLnNob3J0SHViVXJsKVxuICAgICAgSHVicy5Db25maWcuaHViQmFzZVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJ1xuICAgIH0pXG4gICAgSHVicy5FdmVudHMub24oJ3BhZ2VDaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgIF9yZWxhdGl2ZUxpbmtzKGRldk9wdGlvbnMuc2hvcnRIdWJVcmwpXG4gICAgICBIdWJzLkNvbmZpZy5odWJCYXNlVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nXG4gICAgfSlcbiAgICBIdWJzLkV2ZW50cy5vbignaXRlbXNMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIF9yZWxhdGl2ZUxpbmtzKGRldk9wdGlvbnMuc2hvcnRIdWJVcmwpXG4gICAgfSlcbiAgfVxuXG4gIC8qKiBcbiAgICogIEV2ZW50c1xuICAgKi9cblxuICBIdWJzLkV2ZW50cy5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgZml4U2hhcmVXaWRnZXQoKTtcbiAgICB9KVxuICAgIC5vbigncGFnZUNoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgfSkub24oJ2l0ZW1zTG9hZGVkJywgZnVuY3Rpb24oaXRlbUlkcywgc2VsZWN0b3JzKSB7XG5cblxuICAgIH0pLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNpZGVDdGFGaXgoKTtcbiAgICAgIGFkZFRoaXNGaXgoKTtcbiAgICB9KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgICBzaWRlQ3RhRml4KCk7XG4gICAgICBhZGRUaGlzRml4KCk7XG4gICAgfSkub24oJ2N0YUFjdGl2YXRlJywgZnVuY3Rpb24oY3RhSWQpIHtcblxuXG4gICAgfSkub24oJ2N0YUZvcm1TdWJtaXRTdWNjZXNzJywgZnVuY3Rpb24oY3RhSWQsIG1hcHBlZERhdGEsIGN0YU5hbWUpIHtcblxuXG4gICAgfSkub24oJ3NlYXJjaCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgfSk7Il19\n"]}